@use "../settings";
@use "../helpers/a11y";
@use "../helpers/colors";
@use "../helpers/spacing";
@use "../helpers/typography";

.fs-details {
  $self: &;
  @include spacing.fs-responsive-margin(3, $direction: bottom);
  &__summary,
  &__body {
    @include spacing.fs-responsive-padding(3, $direction: all);
  }
  &__summary {
    color: colors.fs-color-if-set(
      settings.$fs-details-text-color,
      settings.$fs-details-background-color
    );
    background-color: settings.$fs-details-background-color;
    list-style-type: none;
    cursor: pointer;
    &:hover {
      color: colors.fs-color-if-set(
        settings.$fs-details-hover-text-color,
        settings.$fs-details-hover-background-color
      );
      background-color: settings.$fs-details-hover-background-color;
    }
    &:focus {
      outline: none;
      #{$self}__summary-text {
        @include a11y.fs-focus-ring($fill: true);
      }
    }
    &::-webkit-details-marker {
      display: none;
    }
  }
  &__summary-text {
    @include typography.fs-font-stack(body, $weight: bold);
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    &::after {
      $marker-size: settings.$fs-details-marker-size;
      content: "";
      display: inline-block;
      width: $marker-size;
      height: $marker-size;
      margin-left: $marker-size;
      float: right;
      background-color: settings.$fs-details-marker-color;
      clip-path: polygon(
        45% 0,
        55% 0,
        55% 45%,
        100% 45%,
        100% 55%,
        55% 55%,
        55% 100%,
        45% 100%,
        45% 55%,
        0% 55%,
        0% 45%,
        45% 45%
      );
      .fs-details[open] & {
        clip-path: polygon(0% 45%, 100% 45%, 100% 55%, 0% 55%);
      }
    }
  }
}
