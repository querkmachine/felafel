!function(t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).fs=t()}(function(){return function r(s,a,n){function o(e,t){if(!a[e]){if(!s[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(h)return h(e,!0);throw(i=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",i}i=a[e]={exports:{}},s[e][0].call(i.exports,function(t){return o(s[e][1][t]||t)},i,i.exports,r,s,a,n)}return a[e].exports}for(var h="function"==typeof require&&require,t=0;t<n.length;t++)o(n[t]);return o}({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.initAll=function(t){const e=void 0!==(t=void 0!==t?t:{}).scope?t.scope:document;e.querySelectorAll('[data-module="fs-details-group"]').forEach(t=>{new r.default(t)}),e.querySelectorAll('[data-module="fs-file-drag-and-drop"]').forEach(t=>{new s.default(t)}),e.querySelectorAll('[data-module="fs-tabs"]').forEach(t=>{new a.default(t)}),e.querySelectorAll('[data-module="fs-textarea-counter"]').forEach(t=>{new n.default(t)}),e.querySelectorAll('[data-module="fs-tooltip"]').forEach(t=>{new o.default(t)})},Object.defineProperty(i,"DetailsGroup",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(i,"FileDragAndDrop",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(i,"Tabs",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(i,"TextareaCounter",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(i,"Tooltip",{enumerable:!0,get:function(){return o.default}});var r=h(t("./components/details-group")),s=h(t("./components/file-drag-and-drop")),a=h(t("./components/tabs")),n=h(t("./components/textarea-counter")),o=h(t("./components/tooltip"));function h(t){return t&&t.__esModule?t:{default:t}}},{"./components/details-group":2,"./components/file-drag-and-drop":3,"./components/tabs":4,"./components/textarea-counter":5,"./components/tooltip":6}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;i.default=class{constructor(t){this.$container=t,this.$allModules=t.querySelectorAll(".fs-details"),this.create()}create(){this.$allModules.forEach(t=>{t.bindToggle=this.onToggle.bind(this),t.addEventListener("toggle",t.bindToggle)})}destroy(){this.$allModules.forEach(t=>{t.removeEventListener("toggle",t.bindToggle)})}onToggle(e){if(e.target.hasAttribute("open")){const t=Array.from(this.$container.querySelectorAll(".fs-details[open]"));t.forEach(t=>{t!==e.target&&t.removeAttribute("open")})}}}},{}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=t("../helpers/strings");i.default=class{constructor(t){this.$module=t,this.$input=t.querySelector('input[type="file"]'),this.$icons=t.querySelector(".fs-file-drag-and-drop__icons"),this.$label=t.querySelector(".fs-file-drag-and-drop__label"),this.iconsDefaultHTML=this.$icons.innerHTML,this.labelDefaultHTML=this.$label.innerHTML,this.id=`DragAndDrop-${(0,r.GenerateGuid)()}`,this.create()}create(){this.$label.setAttribute("id",this.id),this.$label.setAttribute("aria-live","polite"),this.$input.setAttribute("aria-describedby",this.$input.getAttribute("aria-describedby")?this.$input.getAttribute("aria-describedby")+" "+this.id:this.id),this.$input.bindDragOver=this.onDragOver.bind(this),this.$input.bindDragOut=this.onDragOut.bind(this),this.$input.bindChange=this.onChange.bind(this),this.$input.addEventListener("dragenter",this.$input.bindDragOver,!0),this.$input.addEventListener("dragover",this.$input.bindDragOver,!0),this.$input.addEventListener("dragleave",this.$input.bindDragOut,!0),this.$input.addEventListener("drop",this.$input.bindDragOut,!0),this.$input.addEventListener("change",this.$input.bindChange,!0)}onChange(t){this.handleFiles(t.target.files)}onDragOver(){this.$module.classList.add("fs-file-drag-and-drop--highlight")}onDragOut(){this.$module.classList.remove("fs-file-drag-and-drop--highlight")}handleFiles(e){if(this.resetFilePreview(),e.length){let t=[];this.$icons.innerHTML="",[...e].forEach(i=>{if(t.push(i.name),["image/gif","image/jpeg","image/png"].includes(i.type)){let t=new FileReader;t.onload=t=>{let e=document.createElement("img");e.setAttribute("alt",i.name),e.classList.add("fs-file-drag-and-drop__icon"),e.src=t.target.result,this.$icons.appendChild(e)},t.readAsDataURL(i)}}),1===t.length?this.$label.innerHTML=`Selected file: <strong>${t[0]}</strong>.`:this.$label.innerHTML=`Selected <strong>${t.length} files</strong>.`}}resetFilePreview(){this.$icons.innerHTML=this.iconsDefaultHTML,this.$label.innerHTML=this.labelDefaultHTML}}},{"../helpers/strings":8}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=t("../helpers/key-codes");t=class{constructor(t){this.$module=t,this.$tabs=t.querySelectorAll(".fs-tabs__tab"),this.$tablist=t.querySelector(".fs-tabs__list"),this.$tablistItems=t.querySelectorAll(".fs-tabs__item"),this.panelHiddenClass="fs-tabs__panel--hidden",this.$tabs&&this.$tablist&&this.$tablistItems&&this.create()}create(){this.$tablist.setAttribute("role","tablist"),this.$tablistItems.forEach(t=>{t.setAttribute("role","presentation")}),this.$tabs.forEach(t=>{this.setAttributes(t),t.boundTabClick=this.onTabClick.bind(this),t.boundTabKeydown=this.onTabKeydown.bind(this),t.addEventListener("click",t.boundTabClick,!0),t.addEventListener("keydown",t.boundTabKeydown,!0),this.hideTab(t)});var t=this.getTab(window.location.hash)||this.$tabs[0];this.showTab(t),this.$module.boundOnHashChange=this.onHashChange.bind(this),window.addEventListener("hashchange",this.$module.boundOnHashChange,!0)}destroy(){this.$tablist.removeAttribute("role"),this.$tablistItems.forEach(t=>{t.removeAttribute("role","presentation")}),this.$tabs.forEach(t=>{t.removeEventListener("click",t.boundTabClick,!0),t.removeEventListener("keydown",t.boundTabKeydown,!0),this.unsetAttributes(t)}),window.removeEventListener("hashchange",this.$module.boundOnHashChange,!0)}setAttributes(t){var e=this.getHref(t).slice(1);t.setAttribute("id",e+"-Tab"),t.setAttribute("role","tab"),t.setAttribute("aria-controls",e),t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1");const i=this.getPanel(t);i.setAttribute("role","tabpanel"),i.setAttribute("aria-labelledby",t.id),i.classList.add(this.panelHiddenClass)}unsetAttributes(t){t.removeAttribute("id"),t.removeAttribute("role"),t.removeAttribute("aria-controls"),t.removeAttribute("aria-selected"),t.removeAttribute("tabindex");const e=this.getPanel(t);e.removeAttribute("role"),e.removeAttribute("aria-labelledby"),e.classList.remove(this.panelHiddenClass)}onHashChange(t){const e=this.getTab(window.location.hash);var i;e&&(this.changingHash?this.changingHash=!1:(i=this.getCurrentTab(),this.hideTab(i),this.showTab(e),e.focus()))}createHistoryEntry(t){let e=this.getPanel(t);var i=e.id;e.id="",this.changingHash=!0,window.location.hash=this.getHref(t).slice(1),e.id=i}getTab(t){return this.$module.querySelector(`.fs-tabs__tab[href="${t}"]`)}getCurrentTab(){return this.$module.querySelector(".fs-tabs__item--current .fs-tabs__tab")}hideTab(t){this.unhighlightTab(t),this.hidePanel(t)}showTab(t){this.highlightTab(t),this.showPanel(t)}unhighlightTab(t){t.setAttribute("aria-selected","false"),t.parentNode.classList.remove("fs-tabs__item--current"),t.setAttribute("tabindex","-1")}highlightTab(t){t.setAttribute("aria-selected","true"),t.parentNode.classList.add("fs-tabs__item--current"),t.setAttribute("tabindex","0")}activateNextTab(){var t=this.getCurrentTab();const e=t.parentNode.nextElementSibling;let i;e&&(i=e.querySelector(".fs-tabs__tab")),i&&(this.hideTab(t),this.showTab(i),i.focus(),this.createHistoryEntry(i))}activatePreviousTab(){var t=this.getCurrentTab();const e=t.parentNode.previousElementSibling;let i;e&&(i=e.querySelector(".fs-tabs__tab")),i&&(this.hideTab(t),this.showTab(i),i.focus(),this.createHistoryEntry(i))}getPanel(t){return this.$module.querySelector(this.getHref(t))}showPanel(t){const e=this.getPanel(t);e.classList.remove(this.panelHiddenClass)}hidePanel(t){const e=this.getPanel(t);e.classList.add(this.panelHiddenClass)}onTabClick(t){if(!t.target.classList.contains("fs-tabs__tab"))return!1;t.preventDefault();var e=t.target,t=this.getCurrentTab();this.hideTab(t),this.showTab(e),this.createHistoryEntry(e)}onTabKeydown(t){switch(t.which||t.keyCode){case(0,r.KeyCodes)().LEFT:case(0,r.KeyCodes)().UP:this.activatePreviousTab(),t.preventDefault();break;case(0,r.KeyCodes)().RIGHT:case(0,r.KeyCodes)().DOWN:this.activateNextTab(),t.preventDefault()}}getHref(t){const e=t.getAttribute("href");return e.slice(e.indexOf("#"),e.length)}};i.default=t},{"../helpers/key-codes":7}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=class{constructor(t){this.$module=t,this.$textarea=t.querySelector("textarea"),this.$counter=this.buildCounterHtml(),this.updateCounter(),this.$textarea.addEventListener("input",()=>{this.updateCounter()})}buildCounterHtml(){if(this.$textarea.id){if(this.$textarea.maxLength){this.maxlength=this.$textarea.maxLength;var t,e=this.$textarea.id+"-Counter";this.$textarea.getAttribute("aria-describedby")?(t=this.$textarea.getAttribute("aria-describedby"),this.$textarea.setAttribute("aria-describedby",`${t} ${e}`)):this.$textarea.setAttribute("aria-describedby",e),this.$textarea.removeAttribute("maxlength");const i=document.createElement("div");return i.setAttribute("id",e),i.classList.add("fs-textarea-counter__counter"),this.$module.appendChild(i),i}console.error("TextareaCounter: Textarea must have a `maxlength` attribute set to attach a character counter.")}else console.error("TextareaCounter: Textarea must have a unique `id` attribute set to attach a character counter.")}updateCounter(){var t=this.count();let e="";t.tooLong?(e=1===t.charactersOver?`Limit reached. You're over by ${t.charactersOver} character.`:`Limit reached. You're over by ${t.charactersOver} characters.`,this.$counter.setAttribute("role","alert"),this.$textarea.setCustomValidity(`Input is too long. A maximum of ${t.maxlength} characters are allowed. You have used ${t.charactersUsed} characters.`)):(e=1===t.charactersRemaining?`You have ${t.charactersRemaining} character remaining.`:`You have ${t.charactersRemaining} characters remaining.`,this.$counter.removeAttribute("role"),this.$textarea.setCustomValidity("")),this.$counter.innerText=e,this.$counter.setAttribute("aria-live",t.charactersRemaining<1?"assertive":"polite")}count(){var t=this.maxlength-this.$textarea.value.length;return{maxlength:this.maxlength,charactersUsed:this.$textarea.value.length,charactersRemaining:t,charactersOver:t<0?Math.abs(t):0,tooLong:t<0}}};i.default=r},{}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var r=t("../helpers/strings"),s=t("../helpers/key-codes");t=class{constructor(t){this.$module=t,this.$trigger=t.firstElementChild,this.$tooltip=t.querySelector(".fs-tooltip__tip"),this.timeoutId=null,this.timeoutLength=500,this.tooltipOriginalId=this.$tooltip.id,this.tooltipId=this.tooltipOriginalId||`tooltip-${(0,r.GenerateGuid)()}`,this.$trigger&&this.$tooltip&&this.create()}create(){this.$tooltip.setAttribute("id",this.tooltipId),this.$tooltip.setAttribute("aria-hidden","true"),this.$trigger.boundMouseEnter=this.onFocus.bind(this),this.$trigger.boundMouseLeave=this.onMouseLeave.bind(this),this.$trigger.boundFocus=this.onFocus.bind(this),this.$trigger.boundBlur=this.onBlur.bind(this),this.$trigger.boundEscape=this.onEscape.bind(this),this.$trigger.addEventListener("mouseenter",this.$trigger.boundMouseEnter,!0),this.$trigger.addEventListener("mouseleave",this.$trigger.boundMouseLeave,!0),this.$trigger.addEventListener("focus",this.$trigger.boundFocus,!0),this.$trigger.addEventListener("blur",this.$trigger.boundBlur,!0),this.$trigger.addEventListener("keydown",this.$trigger.boundEscape,!0),this.hideTooltip()}destroy(){this.tooltipOriginalId?this.$tooltip.setAttribute("id",this.tooltipOriginalId):this.$tooltip.removeAttribute("id"),this.$tooltip.removeAttribute("aria-hidden"),this.$trigger.removeEventListener("mouseenter",this.$trigger.boundMouseEnter,!0),this.$trigger.removeEventListener("mouseleave",this.$trigger.boundMouseLeave,!0),this.$trigger.removeEventListener("focus",this.$trigger.boundFocus,!0),this.$trigger.removeEventListener("blur",this.$trigger.boundBlur,!0),this.$trigger.removeEventListener("keydown",this.$trigger.boundEscape,!0)}onFocus(){this.showTooltip()}onBlur(){this.hideTooltip()}onEscape(t){(t.which||t.keyCode)===(0,s.KeyCodes)().ESCAPE&&this.hideTooltip()}onMouseEnter(){this.showTooltip(),this.timeoutId&&clearTimeout(this.timeoutId)}onMouseLeave(){this.timeoutId=setTimeout(()=>{this.hideTooltip()},this.timeoutLength)}showTooltip(){this.determinePosition(),this.$tooltip.classList.remove("fs-tooltip__tip--hidden"),this.$tooltip.setAttribute("aria-hidden","false")}hideTooltip(){this.$tooltip.classList.add("fs-tooltip__tip--hidden"),this.$tooltip.setAttribute("aria-hidden","true")}determinePosition(){var t=this.$trigger.getBoundingClientRect();const e={top:t.top,left:t.left,right:window.innerWidth-t.right,bottom:window.innerHeight-t.bottom};let i=0,r=null;Object.keys(e).map(t=>{e[t]>i&&(i=e[t],r=t)}),this.$tooltip.dataset.side=r||"bottom"}};i.default=t},{"../helpers/key-codes":7,"../helpers/strings":8}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.KeyCodes=function(){return{TAB:9,RETURN:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40}}},{}],8:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.GenerateGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}},{}]},{},[1])(1)});
//# sourceMappingURL=all.js.map
